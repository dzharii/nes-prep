(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{FDtd:function(t,e,n){"use strict";function r(){window.requestAnimationFrame(r),d.data.set(f),l.putImageData(d,0,0)}function o(t){var e=t.outputBuffer,n=e.length;(m-T&w)<512&&C.frame();for(var r=e.getChannelData(0),o=e.getChannelData(1),a=0;a<n;a++){var s=T+a&w;r[a]=v[s],o[a]=b[s]}T=T+n&w}function a(t,e){switch(e.keyCode){case 38:t(1,jsnes.Controller.BUTTON_UP);break;case 40:t(1,jsnes.Controller.BUTTON_DOWN);break;case 37:t(1,jsnes.Controller.BUTTON_LEFT);break;case 39:t(1,jsnes.Controller.BUTTON_RIGHT);break;case 65:case 81:t(1,jsnes.Controller.BUTTON_A);break;case 83:case 79:t(1,jsnes.Controller.BUTTON_B);break;case 9:t(1,jsnes.Controller.BUTTON_SELECT);break;case 13:t(1,jsnes.Controller.BUTTON_START)}}function s(t){var e=document.getElementById(t);if(!e)throw new Error("Main canvas element was not found");if(!(l=e.getContext("2d")))throw new Error("Unable to obtain 2d context from main canvas");d=l.getImageData(0,0,256,240),l.fillStyle="black",l.fillRect(0,0,256,240);var n=new ArrayBuffer(d.data.length);f=new Uint8ClampedArray(n),p=new Uint32Array(n);var r=new window.AudioContext,a=r.createScriptProcessor(512,0,2);a.onaudioprocess=o,a.connect(r.destination)}function i(t){C.loadROM(t),window.requestAnimationFrame(r)}function c(t,e){return c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},c(t,e)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}n.r(e);var l,d,f,p,h=n("hosL"),y=4096,w=4095,v=new Float32Array(y),b=new Float32Array(y),m=0,T=0,C=new jsnes.NES({onFrame:function(t){for(var e=0;e<61440;e++)p[e]=4278190080|t[e]},onAudioSample:function(t,e){v[m]=t,b[m]=e,m=m+1&w}});document.addEventListener("keydown",(function(t){a(C.buttonDown,t)})),document.addEventListener("keyup",(function(t){a(C.buttonUp,t)}));var O=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).refMainCanvas=Object(h.createRef)(),e}var n,r;r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,c(n,r);var o=e.prototype;return o.shouldComponentUpdate=function(){return!1},o.componentDidMount=function(){!function(t,e){s(t);var n=new XMLHttpRequest;n.open("GET",e),n.overrideMimeType("text/plain; charset=x-user-defined"),n.onerror=function(){return console.log("Error loading "+e+": "+n.statusText)},n.onload=function(){200===this.status?i(this.responseText):0===this.status||n.onerror()},n.send()}("nes-canvas","/assets/InterglacticTransmissing.nes")},o.render=function(){return Object(h.h)(h.Fragment,null,Object(h.h)("canvas",{id:"nes-canvas",width:"256",height:"240",style:"width: 100%",ref:this.refMainCanvas}))},e}(h.Component),j="home__5d1wS";e.default=function(t){function e(e){var n;return(n=t.call(this,e)||this).state={play:!1},n}var n,r;r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,u(n,r);var o=e.prototype;return o.renderReadyButton=function(){return Object(h.h)("button",{onClick:this.onReadyButtonClicked.bind(this)},"Ready, Player One!")},o.onReadyButtonClicked=function(){this.setState({play:!0})},o.renderNesCanvas=function(){return Object(h.h)("div",{style:"margin: auto; width: 75%; height: 250px; border: 1px solid black;"},Object(h.h)(O,null))},o.render=function(){return Object(h.h)("div",{class:j},this.state.play?this.renderNesCanvas():this.renderReadyButton())},e}(h.Component)}}]);
//# sourceMappingURL=route-home.chunk.53aa4.js.map